<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>ParhamGPT Online</title>
<style>
body {font-family:sans-serif; background:#111; color:#fff; padding:20px;}
#chat {background:#222; padding:10px; border-radius:8px; height:400px; overflow:auto; margin-bottom:10px;}
input {width:70%; padding:5px; border-radius:5px; border:none;}
button {padding:5px 10px; border-radius:5px; border:none; background:#4caf50; color:#fff; cursor:pointer;}
</style>
</head>
<body>
<h2>ğŸ¤– ParhamGPT Online</h2>
<div id="chat"></div>
<input id="user" placeholder="Ø³ÙˆØ§Ù„Øª Ø±Ùˆ Ø¨Ù¾Ø±Ø³...">
<button onclick="send()">Ø§Ø±Ø³Ø§Ù„</button>

<script>
async function send() {
  const userInput = document.getElementById('user').value.trim();
  if(!userInput) return;
  appendMessage('ØªÙˆ', userInput);
  document.getElementById('user').value='';

  // Ú©Ù†ØªØ±Ù„ Ø´Ø®ØµÛŒØª: Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† instruction
  const prompt = `ØªÙˆ ParhamGPT Ù‡Ø³ØªÛŒ. Ø³Ø§Ø²Ù†Ø¯Ù‡â€ŒØ§Øª: parham. 
Ù‡Ù…ÛŒØ´Ù‡ Ù…ÙˆØ¯Ø¨ Ùˆ Ø¯Ù‚ÛŒÙ‚ Ø¬ÙˆØ§Ø¨ Ø¨Ø¯Ù‡. 
Ø§Ú¯Ø± Ø³ÙˆØ§Ù„ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø³Ø§Ø²Ù†Ø¯Ù‡ Ø´Ø¯ØŒ ØµØ±ÛŒØ­Ø§Ù‹ "parham" Ø±Ø§ Ø¨Ú¯Ùˆ. 
Ø§Ú¯Ø± Ø¬ÙˆØ§Ø¨ Ø±Ø§ Ù†Ù…ÛŒâ€ŒØ¯Ø§Ù†ÛŒØŒ Ø¨Ù†ÙˆÛŒØ³ "Ù†Ù…ÛŒâ€ŒØ¯Ø§Ù†Ù…".
USER: ${userInput}
ASSISTANT:`;

  try {
    const response = await fetch('https://api-inference.huggingface.co/models/gpt2', {
      method: 'POST',
      headers: { 'Content-Type':'application/json' },
      body: JSON.stringify({ inputs: prompt })
    });
    const data = await response.json();
    let text = '';
    if(data[0] && data[0].generated_text) text = data[0].generated_text.replace(prompt,'').trim();
    else text = 'Ù…ØªØ£Ø³ÙÙ…ØŒ Ø¬ÙˆØ§Ø¨ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯.';
    appendMessage('ParhamGPT', text);
  } catch(e){
    appendMessage('ParhamGPT', 'Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ù…Ø¯Ù„.');
    console.error(e);
  }
}

function appendMessage(who, text){
  const c = document.getElementById('chat');
  const div = document.createElement('div');
  div.innerHTML = `<b>${who}:</b> ${text}`;
  c.appendChild(div);
  c.scrollTop = c.scrollHeight;
}
</script>
</body>
</html>
